<div class="hotel-search-container">

  <div *ngIf="showContinueButton" class="continue-without-flight">
    <button mat-raised-button color="primary" (click)="continueWithoutFlight()">
      Continue Without Selecting a flight
    </button>
  </div>

  <div class="search-header">
    <h1 class="search-title">‚úàÔ∏è Flight Offers</h1>
  </div>


  <div *ngIf="error" class="error-container">
    <h3 class="error-title">Error</h3>
    <p class="error-message">{{ error }}</p>
  </div>

  <div class="search-card">
    <div class="search-input-group">
      <label class="input-label">Origin Airport Code</label>
      <input type="text" class="city-input-v2" placeholder="e.g. SYD" [(ngModel)]="originLocationCode" readonly />
      <p class="input-hint">Enter IATA code (e.g., IST for Istanbul)</p>
    </div>

    <div class="search-input-group">
      <label class="input-label">Destination Airport Code</label>
      <input type="text" class="city-input-v2" placeholder="e.g. LHR" [(ngModel)]="destinationLocationCode" readonly />
    </div>

    <div class="search-input-group">
      <label class="input-label" for="">Date</label>
      <input type="date" class="city-input" [(ngModel)]="departureDate" />
    </div>

    <div class="search-input-group">
      <label class="input-label">Adults</label>
      <input type="number" class="city-input" [(ngModel)]="adults" min="1" />
    </div>
    <button
      class="bg-white text-blue-600 font-semibold px-4 py-2 rounded shadow hover:bg-blue-100 transition search-btn"
      (click)="searchFlights();">
      {{ isLoading ? 'üîÑ Processing...' : 'üîç Search Flight Offers' }}
    </button>
  </div>

  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner"></div>
    <p class="loading-text">Searching flight offers...</p>
  </div>

  <div *ngIf="!isLoading && flightOffers.length > 0" class="results-container">
    <h2 class="results-title">
      Available Flight Offers
      <span class="results-count">{{ flightOffers.length }}</span>
    </h2>

    <div class="hotels-grid">
      <div *ngFor="let offer of flightOffers" class="hotel-card">
        <h3 class="hotel-name">{{ offer.itineraries[0]?.segments[0]?.carrierCode }} {{
          offer.itineraries[0]?.segments[0]?.number }}</h3>
        <div class="hotel-details">
          <div class="detail-item">
            <span class="detail-label">Origin</span>
            <span class="detail-value">{{ offer.itineraries[0]?.segments[0]?.arrival?.iataCode }}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Destination</span>
            <span class="detail-value">{{ offer.itineraries[0]?.segments[0]?.departure?.iataCode }}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Price</span>
            <span class="detail-value">{{ offer.price?.total }} {{ offer.price?.currency }}</span>
          </div>
          <button class="search-btn" mat-raised-button color="primary" (click)="selectFlight(offer)">
            ‚úÖSelect Flight
          </button>
        </div>
      </div>
    </div>
  </div>


</div>